(()=>{var e={};e.id=4423,e.ids=[4423],e.modules={52213:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=52213,e.exports=r},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},17252:e=>{"use strict";e.exports=require("prettier/plugins/html")},87413:e=>{"use strict";e.exports=require("prettier/standalone")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},84492:e=>{"use strict";e.exports=require("node:stream")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},31814:(e,r,t)=>{"use strict";t.r(r),t.d(r,{headerHooks:()=>g,originalPathname:()=>v,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>h,staticGenerationAsyncStorage:()=>x,staticGenerationBailout:()=>q});var s={};t.r(s),t.d(s,{POST:()=>p}),t(95655);var i=t(83323),o=t(54647),a=t(29059),n=t(59859),u=t(66886),c=t(52001);async function p(e){let r=function(){let e=(0,n.cookies)();return(0,a.createServerClient)("https://lyhrksnxjoqkuwpebffx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx5aHJrc254am9xa3V3cGViZmZ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI0NzY4ODgsImV4cCI6MjA2ODA1Mjg4OH0.Xt4ZO0C5msAxLIyw8_01ApwG2gtEVBgdoeIdqKqud3Q",{cookies:{getAll:()=>e.getAll(),setAll(r){try{r.forEach(({name:r,value:t,options:s})=>{e.set(r,t,s)})}catch(e){}}}})}(),{data:{session:t},error:s}=await r.auth.getSession();if(s||!t)return u.Z.json({error:"Unauthorized. Please log in again."},{status:401});try{let s=await e.json(),{data:i,error:o}=await r.from("users").select("*").eq("id",t.user.id).single();if(o||!i)return u.Z.json({error:"User not found"},{status:404});let{data:a,error:n}=await r.from("vendors").upsert({...s,user_id:t.user.id,approved:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(n)throw n;return await (0,c.Cz)("aboderindaniel482@gmail.com","kycSubmissionNotice",{vendorName:s.business_name||i.full_name||i.email,email:i.email,phone:s.phone||"N/A",businessName:s.business_name||"N/A",dashboardUrl:"https://www.bookhushly.com/admin/"}),u.Z.json({success:!0,data:a})}catch(e){return console.error("Error creating vendor:",e),u.Z.json({success:!1,error:e.message},{status:500})}}let d=i.AppRouteRouteModule,l=new d({definition:{kind:o.x.APP_ROUTE,page:"/api/vendor/create/route",pathname:"/api/vendor/create",filename:"route",bundlePath:"app/api/vendor/create/route"},resolvedPagePath:"C:\\Users\\D\\Downloads\\Bookhushly.com-main\\Bookhushly.com-main\\app\\api\\vendor\\create\\route.js",nextConfigOutput:"",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:x,serverHooks:h,headerHooks:g,staticGenerationBailout:q}=l,v="/api/vendor/create/route"}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4650,9727,6886,6958,3433,7372,2001],()=>t(31814));module.exports=s})();