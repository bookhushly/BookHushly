(()=>{var e={};e.id=8700,e.ids=[8700],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},3720:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>p,pages:()=>u,routeModule:()=>m,tree:()=>d});var a=r(73137),i=r(54647),t=r(4183),l=r.n(t),n=r(71775),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(s,c);let o=a.AppPageRouteModule,d=["",{children:["dashboard",{children:["vendor",{children:["listings",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,73802)),"C:\\Users\\D\\Downloads\\Bookhushly.com-main\\Bookhushly.com-main\\app\\dashboard\\vendor\\listings\\create\\page.jsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,48818)),"C:\\Users\\D\\Downloads\\Bookhushly.com-main\\Bookhushly.com-main\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,51918,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\D\\Downloads\\Bookhushly.com-main\\Bookhushly.com-main\\app\\dashboard\\vendor\\listings\\create\\page.jsx"],p="/dashboard/vendor/listings/create/page",h={require:r,loadChunk:()=>Promise.resolve()},m=new o({definition:{kind:i.x.APP_PAGE,page:"/dashboard/vendor/listings/create/page",pathname:"/dashboard/vendor/listings/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},58102:(e,s,r)=>{Promise.resolve().then(r.bind(r,8194))},8194:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>S});var a=r(60080),i=r(9885),t=r(57114),l=r(99767),n=r(97052),c=r(68384),o=r(49424),d=r(33478),u=r(76466),p=r(70589),h=r(81704),m=r(84827),x=r(80850),g=r(95440),j=r(8668),v=r(79803),y=r(66908),f=r(87094),b=r(91672),N=r(15441),_=r(6315),w=r(11440),q=r.n(w),C=r(46757),F=r(9941);function S(){let{user:e}=(0,x.tN)(),{addListing:s}=(0,x.Ae)(),r=(0,t.useRouter)(),[w,S]=(0,i.useState)(!1),[P,k]=(0,i.useState)({title:"",description:"",category:"",price:"",location:"",capacity:"",duration:"",availability:"available",features:"",requirements:"",cancellation_policy:"",media_urls:[]}),[A,D]=(0,i.useState)(""),[I,Z]=(0,i.useState)([]),[B,O]=(0,i.useState)([]),L=e=>{let{name:s,value:r}=e.target;k(e=>({...e,[s]:r})),A&&D("")},U=(e,s)=>{k(r=>({...r,[e]:s})),A&&D("")},R=()=>{for(let e of["title","description","category","price","location"])if(!P[e].trim())return D(`${e.replace("_"," ")} is required`),!1;return!(isNaN(parseFloat(P.price))||0>=parseFloat(P.price))||(D("Please enter a valid price"),!1)},$=async()=>{let s=[];for(let r of I){let a=`${e.id}/${Date.now()}-${r.name}`,{data:i,error:t}=await C.O.storage.from("listing-images").upload(a,r);if(t)throw t;let{data:l}=C.O.storage.from("listing-images").getPublicUrl(a);s.push(l.publicUrl)}return s},E=async a=>{if(a.preventDefault(),R()){S(!0),D("");try{let a=await $(),i={...P,price:parseFloat(P.price),capacity:P.capacity?parseInt(P.capacity):null,media_urls:a,vendor_id:e.id,active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:t,error:l}=await (0,g.X8)(i);if(l){D(l.message),F.Am.error("Failed to create listing",{description:l.message});return}s(t),F.Am.success("Listing created successfully!",{description:"Your service is now live and accepting bookings"}),r.push("/dashboard/vendor")}catch(e){D("An unexpected error occurred"),F.Am.error("Failed to create listing",{description:e.message||"An unexpected error occurred"})}finally{S(!1)}}};return a.jsx(l.a,{requiredRole:"vendor",children:(0,a.jsxs)("div",{className:"container max-w-4xl py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)(q(),{href:"/dashboard/vendor",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-4",children:[a.jsx(v.Z,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Create New Listing"}),a.jsx("p",{className:"text-muted-foreground",children:"Add a new service to your portfolio and start accepting bookings"})]}),(0,a.jsxs)("form",{onSubmit:E,className:"space-y-8",children:[A&&a.jsx(h.bZ,{variant:"destructive",children:a.jsx(h.X,{children:A})}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Basic Information"}),a.jsx(n.SZ,{children:"Essential details about your service"})]}),(0,a.jsxs)(n.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(d._,{htmlFor:"title",children:"Service Title *"}),a.jsx(o.I,{id:"title",name:"title",placeholder:"e.g., Luxury Hotel Suite, Event Security Service",value:P.title,onChange:L,required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(d._,{htmlFor:"description",children:"Description *"}),a.jsx(u.g,{id:"description",name:"description",placeholder:"Describe your service in detail...",value:P.description,onChange:L,rows:4,required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(d._,{htmlFor:"category",children:"Category *"}),(0,a.jsxs)(p.Ph,{onValueChange:e=>U("category",e),children:[a.jsx(p.i4,{children:a.jsx(p.ki,{placeholder:"Select a category"})}),a.jsx(p.Bw,{children:j.aA.map(e=>a.jsx(p.Ql,{value:e.value,children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("span",{className:"mr-2",children:e.icon}),e.label]})},e.value))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(d._,{htmlFor:"price",children:"Price (â‚¦) *"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(y.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(o.I,{id:"price",name:"price",type:"number",placeholder:"0.00",value:P.price,onChange:L,className:"pl-10",min:"0",step:"0.01",required:!0})]})]})]})]})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Service Details"}),a.jsx(n.SZ,{children:"Location and capacity information"})]}),(0,a.jsxs)(n.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(d._,{htmlFor:"location",children:"Location *"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(f.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(o.I,{id:"location",name:"location",placeholder:"e.g., Victoria Island, Lagos",value:P.location,onChange:L,className:"pl-10",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(d._,{htmlFor:"capacity",children:"Capacity (Optional)"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(b.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(o.I,{id:"capacity",name:"capacity",type:"number",placeholder:"e.g., 50 guests",value:P.capacity,onChange:L,className:"pl-10",min:"1"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(d._,{htmlFor:"duration",children:"Duration (Optional)"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(N.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(o.I,{id:"duration",name:"duration",placeholder:"e.g., 2 hours, 1 day",value:P.duration,onChange:L,className:"pl-10"})]})]})]})]})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Additional Information"}),a.jsx(n.SZ,{children:"Features, requirements, and policies"})]}),(0,a.jsxs)(n.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(d._,{htmlFor:"features",children:"Features & Amenities"}),a.jsx(u.g,{id:"features",name:"features",placeholder:"List key features and amenities (e.g., WiFi, AC, Security, etc.)",value:P.features,onChange:L,rows:3})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(d._,{htmlFor:"requirements",children:"Requirements"}),a.jsx(u.g,{id:"requirements",name:"requirements",placeholder:"Any special requirements or conditions",value:P.requirements,onChange:L,rows:3})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(d._,{htmlFor:"cancellation_policy",children:"Cancellation Policy"}),a.jsx(u.g,{id:"cancellation_policy",name:"cancellation_policy",placeholder:"Describe your cancellation and refund policy",value:P.cancellation_policy,onChange:L,rows:3})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(d._,{htmlFor:"availability",children:"Availability"}),(0,a.jsxs)(p.Ph,{value:P.availability,onValueChange:e=>U("availability",e),children:[a.jsx(p.i4,{children:a.jsx(p.ki,{})}),(0,a.jsxs)(p.Bw,{children:[a.jsx(p.Ql,{value:"available",children:"Available"}),a.jsx(p.Ql,{value:"busy",children:"Busy"}),a.jsx(p.Ql,{value:"unavailable",children:"Unavailable"})]})]})]})]})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Media"}),a.jsx(n.SZ,{children:"Upload photos to showcase your service"})]}),(0,a.jsxs)(n.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"media",children:"Upload Images"}),a.jsx(o.I,{id:"media",type:"file",accept:"image/*",multiple:!0,onChange:e=>{let s=Array.from(e.target.files||[]);Z(s);let r=s.map(e=>URL.createObjectURL(e));O(r)}})]}),B.length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:B.map((e,s)=>a.jsx("img",{src:e,alt:`preview-${s}`,className:"rounded-md object-cover w-full h-32"},s))})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[a.jsx(c.z,{type:"button",variant:"outline",asChild:!0,children:a.jsx(q(),{href:"/dashboard/vendor",children:"Cancel"})}),a.jsx(c.z,{type:"submit",disabled:w,children:w?(0,a.jsxs)(a.Fragment,{children:[a.jsx(m.T,{className:"mr-2 h-4 w-4"}),"Creating Listing..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(_.Z,{className:"mr-2 h-4 w-4"}),"Create Listing"]})})]})]})]})})}},49424:(e,s,r)=>{"use strict";r.d(s,{I:()=>l});var a=r(60080),i=r(9885),t=r(23161);let l=i.forwardRef(({className:e,type:s,...r},i)=>a.jsx("input",{type:s,className:(0,t.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...r}));l.displayName="Input"},73802:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>l,__esModule:()=>t,default:()=>c});var a=r(17536);let i=(0,a.createProxy)(String.raw`C:\Users\D\Downloads\Bookhushly.com-main\Bookhushly.com-main\app\dashboard\vendor\listings\create\page.jsx`),{__esModule:t,$$typeof:l}=i,n=i.default,c=n}};var s=require("../../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[4650,977,1823,4616,241,9486,5964,1704,3692,9767,8668,812,589],()=>r(3720));module.exports=a})();