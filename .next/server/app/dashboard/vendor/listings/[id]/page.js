(()=>{var e={};e.id=4782,e.ids=[4782],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},75101:(e,s,i)=>{"use strict";i.r(s),i.d(s,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>p,pages:()=>u,routeModule:()=>m,tree:()=>d});var r=i(73137),a=i(54647),t=i(4183),l=i.n(t),n=i(71775),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);i.d(s,c);let o=r.AppPageRouteModule,d=["",{children:["dashboard",{children:["vendor",{children:["listings",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,30487)),"C:\\Users\\D\\Downloads\\Bookhushly.com-main\\Bookhushly.com-main\\app\\dashboard\\vendor\\listings\\[id]\\page.jsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,48818)),"C:\\Users\\D\\Downloads\\Bookhushly.com-main\\Bookhushly.com-main\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,51918,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\D\\Downloads\\Bookhushly.com-main\\Bookhushly.com-main\\app\\dashboard\\vendor\\listings\\[id]\\page.jsx"],p="/dashboard/vendor/listings/[id]/page",h={require:i,loadChunk:()=>Promise.resolve()},m=new o({definition:{kind:a.x.APP_PAGE,page:"/dashboard/vendor/listings/[id]/page",pathname:"/dashboard/vendor/listings/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5120:(e,s,i)=>{Promise.resolve().then(i.bind(i,93335))},93335:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>S,dynamic:()=>F});var r=i(60080),a=i(9885),t=i(57114),l=i(99767),n=i(97052),c=i(68384),o=i(49424),d=i(33478),u=i(76466),p=i(70589),h=i(81704),m=i(84827),x=i(80850),y=i(95440),g=i(8668),j=i(79803),v=i(66908),f=i(87094),b=i(91672),N=i(15441),q=i(52995),_=i(11440),w=i.n(_),C=i(9941);let F="force-dynamic";function S(){let e=(0,t.useParams)(),s=(0,t.useRouter)(),{user:i}=(0,x.tN)(),{updateListing:_}=(0,x.Ae)(),[F,S]=(0,a.useState)(!0),[P,k]=(0,a.useState)(!1),[A,D]=(0,a.useState)(null),[B,Z]=(0,a.useState)({title:"",description:"",category:"",price:"",location:"",capacity:"",duration:"",availability:"available",features:"",requirements:"",cancellation_policy:""}),[I,L]=(0,a.useState)("");(0,a.useEffect)(()=>{let s=async()=>{if(e.id)try{S(!0);let{data:s,error:i}=await (0,y.LR)(e.id);if(i){L("Failed to load listing");return}D(s),Z({title:s.title||"",description:s.description||"",category:s.category||"",price:s.price?.toString()||"",location:s.location||"",capacity:s.capacity?.toString()||"",duration:s.duration||"",availability:s.availability||"available",features:s.features||"",requirements:s.requirements||"",cancellation_policy:s.cancellation_policy||""})}catch(e){L("An unexpected error occurred")}finally{S(!1)}};s()},[e.id]);let E=e=>{let{name:s,value:i}=e.target;Z(e=>({...e,[s]:i})),I&&L("")},O=(e,s)=>{Z(i=>({...i,[e]:s})),I&&L("")},R=()=>{for(let e of["title","description","category","price","location"])if(!B[e].trim())return L(`${e.replace("_"," ")} is required`),!1;return!(isNaN(parseFloat(B.price))||0>=parseFloat(B.price))||(L("Please enter a valid price"),!1)},U=async i=>{if(i.preventDefault(),R()){k(!0),L("");try{let i={title:B.title.trim(),description:B.description.trim(),category:B.category,price:parseFloat(B.price),location:B.location.trim(),capacity:B.capacity?parseInt(B.capacity):null,duration:B.duration.trim()||null,availability:B.availability,features:B.features.trim()||null,requirements:B.requirements.trim()||null,cancellation_policy:B.cancellation_policy.trim()||null,updated_at:new Date().toISOString()},{data:r,error:a}=await (0,y.e6)(e.id,i);if(a){L(a.message),C.Am.error("Failed to update listing",{description:a.message});return}_(e.id,r),C.Am.success("Listing updated successfully!"),s.push("/dashboard/vendor")}catch(e){L("An unexpected error occurred"),C.Am.error("Failed to update listing",{description:"An unexpected error occurred"})}finally{k(!1)}}};return F?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(m.T,{className:"h-8 w-8"})}):A?r.jsx(l.a,{requiredRole:"vendor",children:(0,r.jsxs)("div",{className:"container max-w-4xl py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)(w(),{href:"/dashboard/vendor",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-4",children:[r.jsx(j.Z,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Edit Listing"}),r.jsx("p",{className:"text-muted-foreground",children:"Update your service information"})]}),(0,r.jsxs)("form",{onSubmit:U,className:"space-y-8",children:[I&&r.jsx(h.bZ,{variant:"destructive",children:r.jsx(h.X,{children:I})}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Basic Information"}),r.jsx(n.SZ,{children:"Essential details about your service"})]}),(0,r.jsxs)(n.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"title",children:"Service Title *"}),r.jsx(o.I,{id:"title",name:"title",placeholder:"e.g., Luxury Hotel Suite, Event Security Service",value:B.title,onChange:E,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"description",children:"Description *"}),r.jsx(u.g,{id:"description",name:"description",placeholder:"Describe your service in detail...",value:B.description,onChange:E,rows:4,required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"category",children:"Category *"}),(0,r.jsxs)(p.Ph,{value:B.category,onValueChange:e=>O("category",e),children:[r.jsx(p.i4,{children:r.jsx(p.ki,{placeholder:"Select a category"})}),r.jsx(p.Bw,{children:g.aA.map(e=>r.jsx(p.Ql,{value:e.value,children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"mr-2",children:e.icon}),e.label]})},e.value))})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"price",children:"Price (â‚¦) *"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(v.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(o.I,{id:"price",name:"price",type:"number",placeholder:"0.00",value:B.price,onChange:E,className:"pl-10",min:"0",step:"0.01",required:!0})]})]})]})]})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Service Details"}),r.jsx(n.SZ,{children:"Location and capacity information"})]}),(0,r.jsxs)(n.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"location",children:"Location *"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(f.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(o.I,{id:"location",name:"location",placeholder:"e.g., Victoria Island, Lagos",value:B.location,onChange:E,className:"pl-10",required:!0})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"capacity",children:"Capacity (Optional)"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(b.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(o.I,{id:"capacity",name:"capacity",type:"number",placeholder:"e.g., 50 guests",value:B.capacity,onChange:E,className:"pl-10",min:"1"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"duration",children:"Duration (Optional)"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(N.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(o.I,{id:"duration",name:"duration",placeholder:"e.g., 2 hours, 1 day",value:B.duration,onChange:E,className:"pl-10"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"availability",children:"Availability"}),(0,r.jsxs)(p.Ph,{value:B.availability,onValueChange:e=>O("availability",e),children:[r.jsx(p.i4,{children:r.jsx(p.ki,{})}),(0,r.jsxs)(p.Bw,{children:[r.jsx(p.Ql,{value:"available",children:"Available"}),r.jsx(p.Ql,{value:"busy",children:"Busy"}),r.jsx(p.Ql,{value:"unavailable",children:"Unavailable"})]})]})]})]})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Additional Information"}),r.jsx(n.SZ,{children:"Features, requirements, and policies"})]}),(0,r.jsxs)(n.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"features",children:"Features & Amenities"}),r.jsx(u.g,{id:"features",name:"features",placeholder:"List key features and amenities (e.g., WiFi, AC, Security, etc.)",value:B.features,onChange:E,rows:3})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"requirements",children:"Requirements"}),r.jsx(u.g,{id:"requirements",name:"requirements",placeholder:"Any special requirements or conditions",value:B.requirements,onChange:E,rows:3})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"cancellation_policy",children:"Cancellation Policy"}),r.jsx(u.g,{id:"cancellation_policy",name:"cancellation_policy",placeholder:"Describe your cancellation and refund policy",value:B.cancellation_policy,onChange:E,rows:3})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[r.jsx(c.z,{type:"button",variant:"outline",asChild:!0,children:r.jsx(w(),{href:"/dashboard/vendor",children:"Cancel"})}),r.jsx(c.z,{type:"submit",disabled:P,children:P?(0,r.jsxs)(r.Fragment,{children:[r.jsx(m.T,{className:"mr-2 h-4 w-4"}),"Saving Changes..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(q.Z,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]})]})]})}):r.jsx("div",{className:"container max-w-2xl py-8",children:r.jsx(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"text-center py-12",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Listing Not Found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"The listing you're trying to edit could not be found."}),r.jsx(c.z,{asChild:!0,children:r.jsx(w(),{href:"/dashboard/vendor",children:"Back to Dashboard"})})]})})})}},49424:(e,s,i)=>{"use strict";i.d(s,{I:()=>l});var r=i(60080),a=i(9885),t=i(23161);let l=a.forwardRef(({className:e,type:s,...i},a)=>r.jsx("input",{type:s,className:(0,t.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...i}));l.displayName="Input"},30487:(e,s,i)=>{"use strict";i.r(s),i.d(s,{$$typeof:()=>l,__esModule:()=>t,default:()=>o,dynamic:()=>c});var r=i(17536);let a=(0,r.createProxy)(String.raw`C:\Users\D\Downloads\Bookhushly.com-main\Bookhushly.com-main\app\dashboard\vendor\listings\[id]\page.jsx`),{__esModule:t,$$typeof:l}=a,n=a.default,c=a.dynamic,o=n}};var s=require("../../../../../webpack-runtime.js");s.C(e);var i=e=>s(s.s=e),r=s.X(0,[4650,977,1823,4616,241,3345,5964,1704,3692,9767,8668,812,589],()=>i(75101));module.exports=r})();