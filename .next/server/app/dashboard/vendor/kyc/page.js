(()=>{var e={};e.id=1954,e.ids=[1954],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},78572:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>t.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>u,routeModule:()=>b,tree:()=>d});var n=r(73137),a=r(54647),i=r(4183),t=r.n(i),o=r(71775),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(s,l);let c=n.AppPageRouteModule,d=["",{children:["dashboard",{children:["vendor",{children:["kyc",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,56566)),"C:\\Users\\D\\Downloads\\Bookhushly.com-main\\Bookhushly.com-main\\app\\dashboard\\vendor\\kyc\\page.jsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,48818)),"C:\\Users\\D\\Downloads\\Bookhushly.com-main\\Bookhushly.com-main\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,51918,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\D\\Downloads\\Bookhushly.com-main\\Bookhushly.com-main\\app\\dashboard\\vendor\\kyc\\page.jsx"],m="/dashboard/vendor/kyc/page",x={require:r,loadChunk:()=>Promise.resolve()},b=new c({definition:{kind:a.x.APP_PAGE,page:"/dashboard/vendor/kyc/page",pathname:"/dashboard/vendor/kyc",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},85186:(e,s,r)=>{Promise.resolve().then(r.bind(r,20115))},20115:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>C});var n=r(60080),a=r(9885),i=r(57114),t=r(99767),o=r(97052),l=r(68384),c=r(49424),d=r(33478),u=r(76466),m=r(81704),x=r(84827),b=r(80850),p=r(95440),h=r(79803),_=r(96253),g=r(43917),j=r(93804),f=r(14571),y=r(39546),v=r(6315),N=r(11440),w=r.n(N),k=r(9941);function C(){let{user:e}=(0,b.tN)(),s=(0,i.useRouter)(),[r,N]=(0,a.useState)(!1),[C,q]=(0,a.useState)(!0),[B,I]=(0,a.useState)(null),[P,S]=(0,a.useState)({business_name:"",business_description:"",business_address:"",phone_number:"",business_registration_number:"",tax_identification_number:"",bank_account_name:"",bank_account_number:"",bank_name:"",business_category:"",years_in_operation:"",website_url:""}),[Z,Y]=(0,a.useState)("");(0,a.useEffect)(()=>{let s=async()=>{if(e)try{q(!0);let{data:s,error:r}=await (0,p.jy)(e.id);r&&"PGRST116"!==r.code&&console.error("Profile load error:",r),s&&(I(s),S({business_name:s.business_name||"",business_description:s.business_description||"",business_address:s.business_address||"",phone_number:s.phone_number||"",business_registration_number:s.business_registration_number||"",tax_identification_number:s.tax_identification_number||"",bank_account_name:s.bank_account_name||"",bank_account_number:s.bank_account_number||"",bank_name:s.bank_name||"",business_category:s.business_category||"",years_in_operation:s.years_in_operation||"",website_url:s.website_url||""}))}catch(e){console.error("Load profile error:",e)}finally{q(!1)}};s()},[e]);let F=e=>{S(s=>({...s,[e.target.name]:e.target.value})),Z&&Y("")},A=()=>{for(let e of["business_name","business_description","business_address","phone_number"])if(!P[e].trim())return Y(`${e.replace("_"," ")} is required`),!1;return!0},D=async r=>{if(r.preventDefault(),A()){N(!0),Y("");try{let r;let n={user_id:e.id,...P,approved:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};if((r=B?await (0,p.N)(B.id,n):await (0,p.Km)(n)).error){Y(r.error.message),k.Am.error("KYC submission failed",{description:r.error.message});return}k.Am.success("KYC submitted successfully!",{description:"Your profile is now under review. You will be notified once approved."}),s.push("/dashboard/vendor")}catch(e){Y("An unexpected error occurred"),k.Am.error("KYC submission failed",{description:"An unexpected error occurred"})}finally{N(!1)}}};return C?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx(x.T,{className:"h-8 w-8"})}):n.jsx(t.a,{requiredRole:"vendor",children:(0,n.jsxs)("div",{className:"container max-w-4xl py-8",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsxs)(w(),{href:"/dashboard/vendor",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-4",children:[n.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),(0,n.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:[B?"Update":"Complete"," KYC Verification"]}),n.jsx("p",{className:"text-muted-foreground",children:B?"Update your business information and documents":"Provide your business information to get verified and start accepting bookings"})]}),B&&n.jsx("div",{className:"mb-6",children:(0,n.jsxs)(m.bZ,{className:B.approved?"border-green-200 bg-green-50":"border-yellow-200 bg-yellow-50",children:[B.approved?n.jsx(_.Z,{className:"h-4 w-4 text-green-600"}):n.jsx(g.Z,{className:"h-4 w-4 text-yellow-600"}),n.jsx(m.X,{className:B.approved?"text-green-800":"text-yellow-800",children:B.approved?"Your KYC has been approved. You can update your information anytime.":"Your KYC is currently under review. Updates will require re-approval."})]})}),(0,n.jsxs)("form",{onSubmit:D,className:"space-y-8",children:[Z&&n.jsx(m.bZ,{variant:"destructive",children:n.jsx(m.X,{children:Z})}),(0,n.jsxs)(o.Zb,{children:[(0,n.jsxs)(o.Ol,{children:[(0,n.jsxs)(o.ll,{className:"flex items-center",children:[n.jsx(j.Z,{className:"mr-2 h-5 w-5"}),"Business Information"]}),n.jsx(o.SZ,{children:"Tell us about your business"})]}),(0,n.jsxs)(o.aY,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(d._,{htmlFor:"business_name",children:"Business Name *"}),n.jsx(c.I,{id:"business_name",name:"business_name",placeholder:"Enter your business name",value:P.business_name,onChange:F,required:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(d._,{htmlFor:"business_category",children:"Business Category"}),n.jsx(c.I,{id:"business_category",name:"business_category",placeholder:"e.g., Hotel, Restaurant, Security",value:P.business_category,onChange:F})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(d._,{htmlFor:"business_description",children:"Business Description *"}),n.jsx(u.g,{id:"business_description",name:"business_description",placeholder:"Describe your business and services",value:P.business_description,onChange:F,rows:4,required:!0})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(d._,{htmlFor:"years_in_operation",children:"Years in Operation"}),n.jsx(c.I,{id:"years_in_operation",name:"years_in_operation",type:"number",placeholder:"e.g., 5",value:P.years_in_operation,onChange:F})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(d._,{htmlFor:"website_url",children:"Website URL"}),n.jsx(c.I,{id:"website_url",name:"website_url",type:"url",placeholder:"https://your-website.com",value:P.website_url,onChange:F})]})]})]})]}),(0,n.jsxs)(o.Zb,{children:[(0,n.jsxs)(o.Ol,{children:[(0,n.jsxs)(o.ll,{className:"flex items-center",children:[n.jsx(f.Z,{className:"mr-2 h-5 w-5"}),"Contact Information"]}),n.jsx(o.SZ,{children:"How customers can reach you"})]}),(0,n.jsxs)(o.aY,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(d._,{htmlFor:"business_address",children:"Business Address *"}),n.jsx(u.g,{id:"business_address",name:"business_address",placeholder:"Enter your complete business address",value:P.business_address,onChange:F,rows:3,required:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(d._,{htmlFor:"phone_number",children:"Phone Number *"}),n.jsx(c.I,{id:"phone_number",name:"phone_number",type:"tel",placeholder:"+234 xxx xxx xxxx",value:P.phone_number,onChange:F,required:!0})]})]})]}),(0,n.jsxs)(o.Zb,{children:[(0,n.jsxs)(o.Ol,{children:[(0,n.jsxs)(o.ll,{className:"flex items-center",children:[n.jsx(y.Z,{className:"mr-2 h-5 w-5"}),"Legal Information"]}),n.jsx(o.SZ,{children:"Business registration and tax details"})]}),n.jsx(o.aY,{className:"space-y-4",children:(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(d._,{htmlFor:"business_registration_number",children:"Business Registration Number"}),n.jsx(c.I,{id:"business_registration_number",name:"business_registration_number",placeholder:"CAC Registration Number",value:P.business_registration_number,onChange:F})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(d._,{htmlFor:"tax_identification_number",children:"Tax Identification Number"}),n.jsx(c.I,{id:"tax_identification_number",name:"tax_identification_number",placeholder:"TIN",value:P.tax_identification_number,onChange:F})]})]})})]}),(0,n.jsxs)(o.Zb,{children:[(0,n.jsxs)(o.Ol,{children:[(0,n.jsxs)(o.ll,{className:"flex items-center",children:[n.jsx(j.Z,{className:"mr-2 h-5 w-5"}),"Banking Information"]}),n.jsx(o.SZ,{children:"For payment processing"})]}),(0,n.jsxs)(o.aY,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(d._,{htmlFor:"bank_account_name",children:"Account Name"}),n.jsx(c.I,{id:"bank_account_name",name:"bank_account_name",placeholder:"Account holder name",value:P.bank_account_name,onChange:F})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(d._,{htmlFor:"bank_account_number",children:"Account Number"}),n.jsx(c.I,{id:"bank_account_number",name:"bank_account_number",placeholder:"10-digit account number",value:P.bank_account_number,onChange:F})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(d._,{htmlFor:"bank_name",children:"Bank Name"}),n.jsx(c.I,{id:"bank_name",name:"bank_name",placeholder:"e.g., First Bank, GTBank",value:P.bank_name,onChange:F})]})]})]})]}),(0,n.jsxs)("div",{className:"flex justify-end space-x-4",children:[n.jsx(l.z,{type:"button",variant:"outline",asChild:!0,children:n.jsx(w(),{href:"/dashboard/vendor",children:"Cancel"})}),n.jsx(l.z,{type:"submit",disabled:r,children:r?(0,n.jsxs)(n.Fragment,{children:[n.jsx(x.T,{className:"mr-2 h-4 w-4"}),B?"Updating...":"Submitting..."]}):(0,n.jsxs)(n.Fragment,{children:[n.jsx(v.Z,{className:"mr-2 h-4 w-4"}),B?"Update KYC":"Submit for Review"]})})]})]})]})})}},49424:(e,s,r)=>{"use strict";r.d(s,{I:()=>t});var n=r(60080),a=r(9885),i=r(23161);let t=a.forwardRef(({className:e,type:s,...r},a)=>n.jsx("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));t.displayName="Input"},76466:(e,s,r)=>{"use strict";r.d(s,{g:()=>t});var n=r(60080),a=r(9885),i=r(23161);let t=a.forwardRef(({className:e,...s},r)=>n.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));t.displayName="Textarea"},56566:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>t,__esModule:()=>i,default:()=>l});var n=r(17536);let a=(0,n.createProxy)(String.raw`C:\Users\D\Downloads\Bookhushly.com-main\Bookhushly.com-main\app\dashboard\vendor\kyc\page.jsx`),{__esModule:i,$$typeof:t}=a,o=a.default,l=o}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),n=s.X(0,[4414,8351,1653,5964,1704,7434,9767,5440],()=>r(78572));module.exports=n})();