(()=>{var e={};e.id=6112,e.ids=[6112],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},34227:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>x,routeModule:()=>u,tree:()=>d});var r=t(73137),l=t(54647),a=t(4183),i=t.n(a),n=t(71775),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let o=r.AppPageRouteModule,d=["",{children:["dashboard",{children:["customer",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7238)),"C:\\Users\\D\\Downloads\\Bookhushly.com-main\\Bookhushly.com-main\\app\\dashboard\\customer\\page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,48818)),"C:\\Users\\D\\Downloads\\Bookhushly.com-main\\Bookhushly.com-main\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,51918,23)),"next/dist/client/components/not-found-error"]}],x=["C:\\Users\\D\\Downloads\\Bookhushly.com-main\\Bookhushly.com-main\\app\\dashboard\\customer\\page.jsx"],m="/dashboard/customer/page",h={require:t,loadChunk:()=>Promise.resolve()},u=new o({definition:{kind:l.x.APP_PAGE,page:"/dashboard/customer/page",pathname:"/dashboard/customer",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},67180:(e,s,t)=>{Promise.resolve().then(t.bind(t,40359))},40359:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>_});var r=t(60080),l=t(9885),a=t(99767),i=t(97052),n=t(68384),c=t(24796),o=t(10999),d=t(80850),x=t(15441),m=t(96253),h=t(34706),u=t(43917),j=t(517),f=t(67932),g=t(87094),p=t(87371),N=t(93680),b=t(78260),v=t(14571),y=t(59490),w=t(11440),k=t.n(w),Z=t(84827);t(76466),t(33478),t(81704);var P=t(9941),B=t(49268),S=t(95440);function _(){let{user:e}=(0,d.tN)(),{bookings:s,setBookings:t}=(0,d.ML)(),[w,_]=(0,l.useState)({totalBookings:0,pendingBookings:0,confirmedBookings:0,completedBookings:0}),[q,z]=(0,l.useState)(!0),[C,D]=(0,l.useState)("overview");(0,l.useEffect)(()=>{let s=async()=>{if(e)try{z(!0);let{data:s,error:r}=await (0,S.aL)(e.id,"customer");if(r){P.Am.error("Failed to fetch bookings"),console.error("Fetch bookings error:",r);return}t(s||[]);let l=s?.length||0,a=s?.filter(e=>"pending"===e.status).length||0,i=s?.filter(e=>"confirmed"===e.status).length||0,n=s?.filter(e=>"completed"===e.status).length||0;_({totalBookings:l,pendingBookings:a,confirmedBookings:i,completedBookings:n})}catch(e){console.error("Dashboard error:",e),P.Am.error("Something went wrong loading dashboard")}finally{z(!1)}};s()},[e]);let Y=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"confirmed":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-green-100 text-green-800 border-green-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},A=e=>{switch(e){case"pending":return r.jsx(x.Z,{className:"h-4 w-4"});case"confirmed":case"completed":return r.jsx(m.Z,{className:"h-4 w-4"});case"cancelled":return r.jsx(h.Z,{className:"h-4 w-4"});default:return r.jsx(u.Z,{className:"h-4 w-4"})}};return q?r.jsx(a.a,{requiredRole:"customer",children:r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(Z.T,{className:"h-8 w-8"})})}):r.jsx(a.a,{requiredRole:"customer",children:(0,r.jsxs)("div",{className:"container py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Customer Dashboard"}),(0,r.jsxs)("p",{className:"text-muted-foreground",children:["Welcome back, ",e?.user_metadata?.name||"Customer"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(i.ll,{className:"text-sm font-medium",children:"Total Bookings"}),r.jsx(j.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:w.totalBookings}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"All time bookings"})]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(i.ll,{className:"text-sm font-medium",children:"Pending"}),r.jsx(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:w.pendingBookings}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting confirmation"})]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(i.ll,{className:"text-sm font-medium",children:"Confirmed"}),r.jsx(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:w.confirmedBookings}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready to go"})]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(i.ll,{className:"text-sm font-medium",children:"Completed"}),r.jsx(f.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:w.completedBookings}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Finished services"})]})]})]}),(0,r.jsxs)(o.mQ,{value:C,onValueChange:D,className:"space-y-6",children:[(0,r.jsxs)(o.dr,{className:"grid w-full grid-cols-4",children:[r.jsx(o.SP,{value:"overview",children:"Overview"}),r.jsx(o.SP,{value:"bookings",children:"My Bookings"}),r.jsx(o.SP,{value:"favorites",children:"Favorites"}),r.jsx(o.SP,{value:"profile",children:"Profile"})]}),r.jsx(o.nU,{value:"overview",className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[r.jsx(i.ll,{children:"Quick Actions"}),r.jsx(i.SZ,{children:"Explore and book services"})]}),(0,r.jsxs)(i.aY,{className:"space-y-4",children:[r.jsx(n.z,{asChild:!0,className:"w-full justify-start",children:(0,r.jsxs)(k(),{href:"/services",children:[r.jsx(j.Z,{className:"mr-2 h-4 w-4"}),"Browse Services"]})}),r.jsx(n.z,{variant:"outline",asChild:!0,className:"w-full justify-start",children:(0,r.jsxs)(k(),{href:"/search",children:[r.jsx(g.Z,{className:"mr-2 h-4 w-4"}),"Search by Location"]})}),r.jsx(n.z,{variant:"outline",asChild:!0,className:"w-full justify-start",children:(0,r.jsxs)(k(),{href:"/dashboard/customer?tab=favorites",children:[r.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"View Favorites"]})})]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[r.jsx(i.ll,{children:"Recent Bookings"}),r.jsx(i.SZ,{children:"Your latest booking activity"})]}),r.jsx(i.aY,{children:0===s.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx(j.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"No bookings yet"}),r.jsx(n.z,{asChild:!0,children:r.jsx(k(),{href:"/services",children:"Browse Services"})})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[s.slice(0,3).map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-4 p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:e.listings?.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:(0,B.ZP)(new Date(e.booking_date),"PPP")})]}),(0,r.jsxs)(c.C,{className:Y(e.status),children:[A(e.status),r.jsx("span",{className:"ml-1 capitalize",children:e.status})]})]},e.id)),r.jsx(n.z,{variant:"outline",asChild:!0,className:"w-full",children:r.jsx(k(),{href:"/dashboard/customer?tab=bookings",children:"View All Bookings"})})]})})]})]})}),(0,r.jsxs)(o.nU,{value:"bookings",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"My Bookings"}),r.jsx(n.z,{asChild:!0,children:(0,r.jsxs)(k(),{href:"/services",children:[r.jsx(j.Z,{className:"mr-2 h-4 w-4"}),"Book New Service"]})})]}),0===s.length?r.jsx(i.Zb,{children:(0,r.jsxs)(i.aY,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(j.Z,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No bookings yet"}),r.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Start exploring our services and make your first booking"}),r.jsx(n.z,{asChild:!0,children:r.jsx(k(),{href:"/services",children:"Browse Services"})})]})}):r.jsx("div",{className:"space-y-4",children:s.map(e=>(0,r.jsxs)(i.Zb,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(i.Ol,{children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[r.jsx(i.ll,{className:"text-lg",children:e.listings?.title}),(0,r.jsxs)(i.SZ,{children:["by ",e.listings?.vendors?.business_name]})]}),(0,r.jsxs)(c.C,{className:Y(e.status),children:[A(e.status),r.jsx("span",{className:"ml-1 capitalize",children:e.status})]})]})}),(0,r.jsxs)(i.aY,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center text-sm",children:[r.jsx(j.Z,{className:"h-4 w-4 mr-2 text-muted-foreground"}),r.jsx("span",{children:(0,B.ZP)(new Date(e.booking_date),"PPP")})]}),(0,r.jsxs)("div",{className:"flex items-center text-sm",children:[r.jsx(x.Z,{className:"h-4 w-4 mr-2 text-muted-foreground"}),r.jsx("span",{children:e.booking_time})]}),(0,r.jsxs)("div",{className:"flex items-center text-sm",children:[r.jsx(N.Z,{className:"h-4 w-4 mr-2 text-muted-foreground"}),(0,r.jsxs)("span",{children:[e.guests," guest",e.guests>1?"s":""]})]}),(0,r.jsxs)("div",{className:"flex items-center text-sm",children:[r.jsx(b.Z,{className:"h-4 w-4 mr-2 text-muted-foreground"}),(0,r.jsxs)("span",{children:["₦",e.total_amount?.toLocaleString()]})]})]}),e.special_requests&&(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("h5",{className:"font-medium text-sm mb-1",children:"Special Requests:"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.special_requests})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(v.Z,{className:"h-3 w-3 mr-1"}),r.jsx("span",{children:e.contact_phone})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(y.Z,{className:"h-3 w-3 mr-1"}),r.jsx("span",{children:e.contact_email})]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:["completed"===e.status&&(0,r.jsxs)(n.z,{variant:"outline",size:"sm",children:[r.jsx(f.Z,{className:"h-4 w-4 mr-1"}),"Review"]}),"pending"===e.status&&r.jsx(n.z,{variant:"outline",size:"sm",children:"Cancel"}),r.jsx(n.z,{variant:"outline",size:"lg",asChild:!0,className:"bg-purple-600 hover:bg-purple-700 text-white",children:r.jsx(k(),{href:`/payments?booking=${e.id}&reference=${e.payment_reference}`,children:"Pay now"})})]})]})]})]},e.id))})]}),(0,r.jsxs)(o.nU,{value:"favorites",className:"space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Favorite Services"}),r.jsx(i.Zb,{children:(0,r.jsxs)(i.aY,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(p.Z,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No favorites yet"}),r.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Save services you love to easily find them later"}),r.jsx(n.z,{asChild:!0,children:r.jsx(k(),{href:"/services",children:"Browse Services"})})]})})]}),(0,r.jsxs)(o.nU,{value:"profile",className:"space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Profile Settings"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[r.jsx(i.ll,{children:"Personal Information"}),r.jsx(i.SZ,{children:"Update your account details"})]}),(0,r.jsxs)(i.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Name"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e?.user_metadata?.name})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Email"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e?.email})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Role"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Customer"})]}),r.jsx(n.z,{variant:"outline",children:"Edit Profile"})]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[r.jsx(i.ll,{children:"Account Settings"}),r.jsx(i.SZ,{children:"Manage your preferences"})]}),(0,r.jsxs)(i.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm",children:"Email notifications"}),r.jsx(n.z,{variant:"outline",size:"sm",children:"Enable"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm",children:"SMS notifications"}),r.jsx(n.z,{variant:"outline",size:"sm",children:"Enable"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm",children:"Marketing emails"}),r.jsx(n.z,{variant:"outline",size:"sm",children:"Disable"})]})]})]})]})]})]})]})})}},7238:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>a,default:()=>c});var r=t(17536);let l=(0,r.createProxy)(String.raw`C:\Users\D\Downloads\Bookhushly.com-main\Bookhushly.com-main\app\dashboard\customer\page.jsx`),{__esModule:a,$$typeof:i}=l,n=l.default,c=n}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[4650,977,1823,1150,709,5964,1704,3692,9767,812,999],()=>t(34227));module.exports=r})();